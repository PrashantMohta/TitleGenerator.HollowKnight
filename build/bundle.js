var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function s(t){t.forEach(e)}function o(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function r(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode.removeChild(t)}function l(t){return document.createElement(t)}function c(t){return document.createTextNode(t)}function h(){return c(" ")}function d(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function p(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function x(t,e){t.value=null==e?"":e}function f(t,e){for(let n=0;n<t.options.length;n+=1){const s=t.options[n];if(s.__value===e)return void(s.selected=!0)}t.selectedIndex=-1}let g;function b(t){g=t}function m(t){(function(){if(!g)throw new Error("Function called outside component initialization");return g})().$$.on_mount.push(t)}const v=[],T=[],w=[],$=[],y=Promise.resolve();let z=!1;function _(t){w.push(t)}let j=!1;const k=new Set;function S(){if(!j){j=!0;do{for(let t=0;t<v.length;t+=1){const e=v[t];b(e),C(e.$$)}for(b(null),v.length=0;T.length;)T.pop()();for(let t=0;t<w.length;t+=1){const e=w[t];k.has(e)||(k.add(e),e())}w.length=0}while(v.length);for(;$.length;)$.pop()();z=!1,j=!1,k.clear()}}function C(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(_)}}const A=new Set;function E(t,e){-1===t.$$.dirty[0]&&(v.push(t),z||(z=!0,y.then(S)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function H(i,r,a,l,c,h,d,p=[-1]){const x=g;b(i);const f=i.$$={fragment:null,ctx:null,props:h,update:t,not_equal:c,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(x?x.$$.context:r.context||[]),callbacks:n(),dirty:p,skip_bound:!1,root:r.target||x.$$.root};d&&d(f.root);let m=!1;if(f.ctx=a?a(i,r.props||{},((t,e,...n)=>{const s=n.length?n[0]:e;return f.ctx&&c(f.ctx[t],f.ctx[t]=s)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](s),m&&E(i,t)),e})):[],f.update(),m=!0,s(f.before_update),f.fragment=!!l&&l(f.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);f.fragment&&f.fragment.l(t),t.forEach(u)}else f.fragment&&f.fragment.c();r.intro&&((v=i.$$.fragment)&&v.i&&(A.delete(v),v.i(T))),function(t,n,i,r){const{fragment:a,on_mount:u,on_destroy:l,after_update:c}=t.$$;a&&a.m(n,i),r||_((()=>{const n=u.map(e).filter(o);l?l.push(...n):s(n),t.$$.on_mount=[]})),c.forEach(_)}(i,r.target,r.anchor,r.customElement),S()}var v,T;b(x)}function L(t){let e;try{e=new URLSearchParams(window.location.search)}catch(t){console.error(t)}return e.has(t)?e.get(t):""}class O{constructor(t){this.canvas=t,this.ctx=t.getContext("2d")}color="white";fontname="perpetuabold";clear({x:t,y:e,w:n,h:s}={}){this.ctx.clearRect(t||0,e||0,n||this.canvas.width,s||this.canvas.height)}withShadow(t,{color:e,x:n,y:s,blur:o}={}){this.ctx.save(),this.ctx.shadowColor=e||this.color,this.ctx.shadowOffsetX=n||0,this.ctx.shadowOffsetY=s||0,this.ctx.shadowBlur=null!=o?o:10,t(),this.ctx.restore()}addImage(t,{x:e,y:n,w:s,h:o}={}){this.ctx.drawImage(t,e||0,n||0,s||t.width,o||t.height)}addText(t,{font:e,color:n,size:s,ypos:o,blur:i}={}){this.ctx.save(),this.ctx.font=`${s}px ${e||this.fontname}`,this.ctx.fillStyle=n||this.color,this.ctx.textBaseline="top",this.ctx.shadowColor=n||this.color,this.ctx.shadowOffsetX=0,this.ctx.shadowOffsetY=0,this.ctx.shadowBlur=null!=i?i:10;let r=this.ctx.measureText(t).width;for(r=this.ctx.measureText(t).width;r>this.canvas.width;r=this.ctx.measureText(t).width)s*=.9,this.ctx.font=`${s}px ${this.fontname}`;this.ctx.fillText(t,this.canvas.width/2-r/2,o-s/2),this.ctx.restore()}download(t){let e=this.canvas.toDataURL("image/png",1).replace("image/png","image/octet-stream");var n=document.createElement("a");n.download=t||"download.png",n.href=e,n.click()}}class B{banner=void 0;constructor(t,e,{needsShadow:n,color:s,blur:o,size:i,superText:r,mainText:a,subText:u}={}){this.name=t,this.bannerUrl=e,this.color=s,this.blur=o||10,this.needsShadow=!!n,this.size=i||{width:1274,height:521},this.superText=r||{size:32,ypos:135},this.mainText=a||{size:128,ypos:215},this.subText=u||{size:32,ypos:270}}use(){this.loading||this.banner||(function(t){let e=new Image;return new Promise(((n,s)=>{e.src=t,e.onload=()=>n(e),e.onerror=t=>s(e)}))}(this.bannerUrl).then((t=>{this.banner=t,this.loading=!1})),this.loading=!0)}isReady(){return!!this.banner}}function I(t,e,n){const s=t.slice();return s[16]=e[n],s[18]=n,s}function R(e){let n,s,o,i,d=e[16].name+"";return{c(){n=l("option"),s=c(d),o=h(),n.__value=i=e[18],n.value=n.__value},m(t,e){a(t,n,e),r(n,s),r(n,o)},p:t,d(t){t&&u(n)}}}function U(e){let n,i,g,b,m,v,T,w,$,y,z,j,k,S,C,A,E,H,L,O,B,U,q,F,M,N,V,D,K,P,G,X,Y,J,W,Q,Z,tt,et,nt,st,ot,it,rt,at,ut,lt,ct,ht,dt,pt,xt,ft,gt,bt=e[7],mt=[];for(let t=0;t<bt.length;t+=1)mt[t]=R(I(e,bt,t));return{c(){n=l("main"),i=l("h1"),i.textContent="Hollow Knight Title Generator",g=h(),b=l("div"),m=l("div"),v=h(),T=l("div"),w=l("canvas"),z=h(),j=l("div"),k=l("div"),S=l("div"),C=l("label"),C.textContent="Title style",A=h(),E=l("select");for(let t=0;t<mt.length;t+=1)mt[t].c();H=h(),L=l("div"),O=l("label"),B=l("input"),U=c("\n\t\t\t\t\t\tEnable blur"),q=h(),F=l("div"),M=l("label"),M.textContent="Superscript",N=h(),V=l("input"),D=l("br"),K=h(),P=l("div"),G=l("label"),G.textContent="Main text",X=h(),Y=l("input"),J=l("br"),W=h(),Q=l("div"),Z=l("label"),Z.textContent="Subscript",tt=h(),et=l("input"),nt=l("br"),st=h(),ot=l("div"),it=l("button"),it.textContent="Download",rt=h(),at=l("div"),ut=l("div"),ut.textContent="Sharable url",lt=h(),ct=l("div"),ht=l("a"),dt=c(e[0]),pt=h(),xt=l("footer"),xt.innerHTML='<div class="pure-g svelte-91a1jx"><div class="pure-u-1 mb-5">Found a bug? Have any suggestions? Join us in the <a href="https://discord.gg/rqsRHRt25h" target="_blank">Hollow Knight Modding Discord Server</a></div></div>',p(i,"class","svelte-91a1jx"),p(m,"class","pure-u-1 pure-u-md-1-6"),p(w,"class","mb-15 svelte-91a1jx"),p(w,"width",$=e[5].size?.width),p(w,"height",y=e[5].size?.height),p(T,"class","pure-u-1 pure-u-md-2-3"),p(C,"class","pure-u-1 pad-v svelte-91a1jx"),p(E,"class","pure-u-1"),void 0===e[4]&&_((()=>e[9].call(E))),p(S,"class","pure-g svelte-91a1jx"),p(B,"type","checkbox"),p(O,"class","pure-u-1 pad-v svelte-91a1jx"),p(L,"class","pure-g svelte-91a1jx"),p(M,"class","pure-u-1 pad-v svelte-91a1jx"),p(V,"class","pure-u-1"),p(V,"type","text"),p(F,"class","pure-g svelte-91a1jx"),p(G,"class","pure-u-1 pad-v svelte-91a1jx"),p(Y,"class","pure-u-1"),p(Y,"type","text"),p(P,"class","pure-g svelte-91a1jx"),p(Z,"class","pure-u-1 pad-v svelte-91a1jx"),p(et,"class","pure-u-1"),p(et,"type","text"),p(Q,"class","pure-g svelte-91a1jx"),p(it,"class","pure-u-1"),p(ot,"class","pure-g pad-v-2 svelte-91a1jx"),p(k,"class","box mt-0 svelte-91a1jx"),p(j,"class","pure-u-1 pure-u-md-1-6"),p(b,"class","pure-g svelte-91a1jx"),p(ut,"class","pure-u-1 pure-u-md-1-2 pad-v svelte-91a1jx"),p(ht,"class","fit-text svelte-91a1jx"),p(ht,"href",e[0]),p(ct,"class","pure-u-1 pure-u-md-1-2"),p(at,"class","box svelte-91a1jx"),p(n,"class","svelte-91a1jx"),p(xt,"class","svelte-91a1jx")},m(t,s){a(t,n,s),r(n,i),r(n,g),r(n,b),r(b,m),r(b,v),r(b,T),r(T,w),e[8](w),r(b,z),r(b,j),r(j,k),r(k,S),r(S,C),r(S,A),r(S,E);for(let t=0;t<mt.length;t+=1)mt[t].m(E,null);f(E,e[4]),r(k,H),r(k,L),r(L,O),r(O,B),B.checked=e[3],r(O,U),r(k,q),r(k,F),r(F,M),r(F,N),r(F,V),x(V,e[1].superText),r(F,D),r(k,K),r(k,P),r(P,G),r(P,X),r(P,Y),x(Y,e[1].mainText),r(P,J),r(k,W),r(k,Q),r(Q,Z),r(Q,tt),r(Q,et),x(et,e[1].subText),r(Q,nt),r(k,st),r(k,ot),r(ot,it),r(n,rt),r(n,at),r(at,ut),r(at,lt),r(at,ct),r(ct,ht),r(ht,dt),a(t,pt,s),a(t,xt,s),ft||(gt=[d(E,"change",e[9]),d(E,"change",e[10]),d(B,"change",e[11]),d(V,"input",e[12]),d(Y,"input",e[13]),d(et,"input",e[14]),d(it,"click",(function(){o(e[6].download(`${e[1].superText}${e[1].mainText}${e[1].subText}.png`))&&e[6].download(`${e[1].superText}${e[1].mainText}${e[1].subText}.png`).apply(this,arguments)}))],ft=!0)},p(t,[n]){if(e=t,32&n&&$!==($=e[5].size?.width)&&p(w,"width",$),32&n&&y!==(y=e[5].size?.height)&&p(w,"height",y),128&n){let t;for(bt=e[7],t=0;t<bt.length;t+=1){const s=I(e,bt,t);mt[t]?mt[t].p(s,n):(mt[t]=R(s),mt[t].c(),mt[t].m(E,null))}for(;t<mt.length;t+=1)mt[t].d(1);mt.length=bt.length}16&n&&f(E,e[4]),8&n&&(B.checked=e[3]),2&n&&V.value!==e[1].superText&&x(V,e[1].superText),2&n&&Y.value!==e[1].mainText&&x(Y,e[1].mainText),2&n&&et.value!==e[1].subText&&x(et,e[1].subText),1&n&&function(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}(dt,e[0]),1&n&&p(ht,"href",e[0])},i:t,o:t,d(t){t&&u(n),e[8](null),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(mt,t),t&&u(pt),t&&u(xt),ft=!1,s(gt)}}}function q(t,e,n){let s,o="",i=function(){let t=L("super"),e=L("main"),n=L("sub");return t||e||n?{superText:t,mainText:e,subText:n}:{superText:"",mainText:"HOLLOW KNIGHT ",subText:"Title generator"}}(),r="true"==L("title")||!0,a=[new B("Base","Assets/banner.png",{size:{width:1274,height:521},superText:{size:32,ypos:135},mainText:{size:128,ypos:215},subText:{size:32,ypos:270}}),new B("Hi-res","Assets/bannerhires.png",{needsShadow:!0,blur:30,size:{width:3500,height:1280},superText:{size:78.6176,ypos:331.668},mainText:{size:314.4704,ypos:528.212},subText:{size:78.6176,ypos:663.336}}),new B("Hi-res Black","Assets/hollow_knight_title_large_black.png",{color:"black",needsShadow:!0,blur:10,size:{width:3252,height:1191},superText:{size:72,ypos:303.75},mainText:{size:288,ypos:483.75},subText:{size:72,ypos:607.5}}),new B("VoidHeart","Assets/Logo_Voidheart.png",{needsShadow:!0,blur:10,size:{width:2200,height:663},superText:{size:54.72,ypos:230.85},mainText:{size:218.88,ypos:367.65},subText:{size:54.72,ypos:461.7}}),new B("VoidHeart Black","Assets/Logo_Voidheart_Black.png",{color:"black",needsShadow:!0,blur:10,size:{width:2200,height:663},superText:{size:54.72,ypos:230.85},mainText:{size:218.88,ypos:367.65},subText:{size:54.72,ypos:461.7}})],u=0;try{u=parseInt(L("title"))||0}catch(t){}let l,c=a[u];m((()=>(n(6,l=new O(s)),function(t){let e;return function n(){e=requestAnimationFrame(n),t()}(),()=>{cancelAnimationFrame(e)}}((()=>{if(function(){let t=`${window.location.origin}${window.location.pathname}?title=${u}&blur=${r}&${i.superText&&`super=${i.superText}&`}${i.mainText&&`main=${i.mainText}&`}${i.subText&&`sub=${i.subText}`}`;o!=t&&(n(0,o=t),window.history.pushState(o,"Title Change",o))}(),!c.isReady())return c.use();l.clear(),c.needsShadow&&r?l.withShadow((()=>{l.addImage(c.banner)}),{blur:c.blur,color:c.color}):l.addImage(c.banner),l.addText(i.superText.toUpperCase(),{...c.superText,blur:r?c.blur:0,color:c.color}),l.addText(i.mainText.toUpperCase(),{size:c.mainText.size+(i.superText?0:c.superText.size)+(i.subText?0:c.subText.size),ypos:c.mainText.ypos-(i.superText?0:c.superText.size/2)+(i.subText?0:c.subText.size/2),blur:r?c.blur:0,color:c.color}),l.addText(i.subText.toUpperCase(),{...c.subText,blur:r?c.blur:0,color:c.color})})))));return[o,i,s,r,u,c,l,a,function(t){T[t?"unshift":"push"]((()=>{s=t,n(2,s)}))},function(){u=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),n(4,u)},()=>{n(5,c=a[u])},function(){r=this.checked,n(3,r)},function(){i.superText=this.value,n(1,i)},function(){i.mainText=this.value,n(1,i)},function(){i.subText=this.value,n(1,i)}]}return new class extends class{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}{constructor(t){super(),H(this,t,q,U,i,{})}}({target:document.body,props:{name:""}})}();
//# sourceMappingURL=bundle.js.map
