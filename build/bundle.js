var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function s(e){e.forEach(t)}function o(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function r(e,t){e.appendChild(t)}function l(e,t,n){e.insertBefore(t,n||null)}function a(e){e.parentNode.removeChild(e)}function u(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function c(e){return document.createElement(e)}function h(e){return document.createTextNode(e)}function p(){return h(" ")}function d(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function f(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function x(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function g(e,t){e.value=null==t?"":t}function b(e,t){for(let n=0;n<e.options.length;n+=1){const s=e.options[n];if(s.__value===t)return void(s.selected=!0)}e.selectedIndex=-1}function w(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function m(e,t,n){e.classList[n?"add":"remove"](t)}let v;function T(e){v=e}function k(e){(function(){if(!v)throw new Error("Function called outside component initialization");return v})().$$.on_mount.push(e)}const y=[],$=[],z=[],_=[],S=Promise.resolve();let L=!1;function C(e){z.push(e)}let A=!1;const I=new Set;function E(){if(!A){A=!0;do{for(let e=0;e<y.length;e+=1){const t=y[e];T(t),U(t.$$)}for(T(null),y.length=0;$.length;)$.pop()();for(let e=0;e<z.length;e+=1){const t=z[e];I.has(t)||(I.add(t),t())}z.length=0}while(y.length);for(;_.length;)_.pop()();L=!1,A=!1,I.clear()}}function U(e){if(null!==e.fragment){e.update(),s(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(C)}}const B=new Set;function H(e,t){-1===e.$$.dirty[0]&&(y.push(e),L||(L=!0,S.then(E)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function R(i,r,l,u,c,h,p,d=[-1]){const f=v;T(i);const x=i.$$={fragment:null,ctx:null,props:h,update:e,not_equal:c,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:r.context||[]),callbacks:n(),dirty:d,skip_bound:!1,root:r.target||f.$$.root};p&&p(x.root);let g=!1;if(x.ctx=l?l(i,r.props||{},((e,t,...n)=>{const s=n.length?n[0]:t;return x.ctx&&c(x.ctx[e],x.ctx[e]=s)&&(!x.skip_bound&&x.bound[e]&&x.bound[e](s),g&&H(i,e)),t})):[],x.update(),g=!0,s(x.before_update),x.fragment=!!u&&u(x.ctx),r.target){if(r.hydrate){const e=function(e){return Array.from(e.childNodes)}(r.target);x.fragment&&x.fragment.l(e),e.forEach(a)}else x.fragment&&x.fragment.c();r.intro&&((b=i.$$.fragment)&&b.i&&(B.delete(b),b.i(w))),function(e,n,i,r){const{fragment:l,on_mount:a,on_destroy:u,after_update:c}=e.$$;l&&l.m(n,i),r||C((()=>{const n=a.map(t).filter(o);u?u.push(...n):s(n),e.$$.on_mount=[]})),c.forEach(C)}(i,r.target,r.anchor,r.customElement),E()}var b,w;T(f)}function O(e){try{return e()}catch(e){console.error(e)}}function P(e){let t;try{t=new URLSearchParams(window.location.search)}catch(e){console.error(e)}return t.has(e)?decodeURIComponent(t.get(e)):""}class j{constructor(e){this.canvas=e,this.ctx=e.getContext("2d")}color="white";fontname="perpetuabold";clear({x:e,y:t,w:n,h:s}={}){this.ctx.clearRect(e||0,t||0,n||this.canvas.width,s||this.canvas.height)}withShadow(e,{color:t,x:n,y:s,blur:o}={}){this.ctx.save(),this.ctx.shadowColor=t||this.color,this.ctx.shadowOffsetX=n||0,this.ctx.shadowOffsetY=s||0,this.ctx.shadowBlur=null!=o?o:10,e(),this.ctx.restore()}addImage(e,{x:t,y:n,w:s,h:o}={}){this.ctx.drawImage(e,t||0,n||0,s||e.width,o||e.height)}addText(e,{font:t,color:n,size:s,ypos:o,blur:i}={}){this.ctx.save(),this.ctx.font=`${s}px ${t||this.fontname}`,this.ctx.fillStyle=n||this.color,this.ctx.textBaseline="top",this.ctx.shadowColor=n||this.color,this.ctx.shadowOffsetX=0,this.ctx.shadowOffsetY=0,this.ctx.shadowBlur=null!=i?i:10;let r=this.ctx.measureText(e).width;for(r=this.ctx.measureText(e).width;r>this.canvas.width;r=this.ctx.measureText(e).width)s*=.9,this.ctx.font=`${s}px ${t||this.fontname}`;this.ctx.fillText(e,this.canvas.width/2-r/2,o-s/2),this.ctx.restore()}download(e){let t=this.canvas.toDataURL("image/png",1).replace("image/png","image/octet-stream");var n=document.createElement("a");n.download=e||"download.png",n.href=t,n.click()}}class D{banner=void 0;constructor(e,t,{enableLight:n,needsShadow:s,color:o,blur:i,size:r,superText:l,mainText:a,subText:u}={}){this.name=e,this.enableLight=n,this.bannerUrl=t,this.color=o,this.blur=i||10,this.needsShadow=!!s,this.size=r||{width:1274,height:521},this.superText=l||{size:32,ypos:135},this.mainText=a||{size:128,ypos:215},this.subText=u||{size:32,ypos:270}}use(){this.loading||this.banner||(function(e){let t=new Image;return new Promise(((n,s)=>{t.src=e,t.onload=()=>n(t),t.onerror=e=>s(t)}))}(this.bannerUrl).then((e=>{this.banner=e,this.loading=!1})),this.loading=!0)}isReady(){return!!this.banner}}function F(e,t,n){const s=e.slice();return s[25]=t[n],s[27]=n,s}function q(e,t,n){const s=e.slice();return s[28]=t[n],s[27]=n,s}function M(t){let n,s,o,i,u=t[28].name+"";return{c(){n=c("option"),s=h(u),o=p(),n.__value=i=t[27],n.value=n.__value},m(e,t){l(e,n,t),r(n,s),r(n,o)},p:e,d(e){e&&a(n)}}}function N(t){let n,s,o,i,u=t[25].name+"";return{c(){n=c("option"),s=h(u),o=p(),n.__value=i=t[27],n.value=n.__value},m(e,t){l(e,n,t),r(n,s),r(n,o)},p:e,d(e){e&&a(n)}}}function V(t){let n,i,w,v,T,k,y,$,z,_,S,L,A,I,E,U,B,H,R,O,P,j,D,V,K,G,W,X,Y,J,Q,Z,ee,te,ne,se,oe,ie,re,le,ae,ue,ce,he,pe,de,fe,xe,ge,be,we,me,ve,Te,ke,ye,$e,ze,_e,Se,Le,Ce,Ae,Ie,Ee,Ue,Be,He,Re,Oe,Pe,je=t[3]?"Dark":"Light",De=t[11],Fe=[];for(let e=0;e<De.length;e+=1)Fe[e]=M(q(t,De,e));let qe=t[10],Me=[];for(let e=0;e<qe.length;e+=1)Me[e]=N(F(t,qe,e));return{c(){n=c("main"),i=c("h1"),i.textContent="Hollow Knight Title Generator",w=p(),v=c("div"),T=c("div"),k=p(),y=c("div"),$=c("canvas"),S=p(),L=c("div"),A=c("label"),I=c("button"),E=h("Use "),U=h(je),B=h(" Background for preview"),H=p(),R=c("div"),O=c("div"),P=c("div"),j=c("label"),j.textContent="Title style",D=p(),V=c("select");for(let e=0;e<Fe.length;e+=1)Fe[e].c();K=p(),G=c("div"),W=c("label"),W.textContent="Font",X=p(),Y=c("select");for(let e=0;e<Me.length;e+=1)Me[e].c();J=p(),Q=c("div"),Z=c("label"),ee=c("input"),te=h("\n\t\t\t\t\t\tEnable blur"),ne=p(),se=c("div"),oe=c("label"),ie=c("input"),re=h("\n\t\t\t\t\t\tEnable bold"),le=p(),ae=c("div"),ue=c("label"),ue.textContent="Superscript",ce=p(),he=c("input"),pe=c("br"),de=p(),fe=c("div"),xe=c("label"),xe.textContent="Main text",ge=p(),be=c("input"),we=c("br"),me=p(),ve=c("div"),Te=c("label"),Te.textContent="Subscript",ke=p(),ye=c("input"),$e=c("br"),ze=p(),_e=c("div"),Se=c("button"),Se.textContent="Download",Le=p(),Ce=c("div"),Ae=c("div"),Ae.textContent="Sharable url",Ie=p(),Ee=c("div"),Ue=c("a"),Be=h(t[0]),He=p(),Re=c("footer"),Re.innerHTML='<div class="pure-g svelte-p3t4wk"><div class="pure-u-1 mb-5">Found a bug? Have any suggestions? Join us in the <a href="https://discord.gg/rqsRHRt25h" target="_blank">Hollow Knight Modding Discord Server</a></div></div>',f(i,"class","svelte-p3t4wk"),f(T,"class","pure-u-1 pure-u-md-1-6"),f($,"class","mb-15 svelte-p3t4wk"),f($,"width",z=t[8].size?.width),f($,"height",_=t[8].size?.height),m($,"light",t[3]),f(A,"class","pure-u-1 pad-v-2 pointer button svelte-p3t4wk"),f(L,"class","pure-g svelte-p3t4wk"),f(y,"class","pure-u-1 pure-u-md-2-3"),f(j,"class","pure-u-1 pad-v svelte-p3t4wk"),f(V,"class","pure-u-1"),void 0===t[6]&&C((()=>t[15].call(V))),f(P,"class","pure-g svelte-p3t4wk"),f(W,"class","pure-u-1 pad-v svelte-p3t4wk"),f(Y,"class","pure-u-1"),void 0===t[7]&&C((()=>t[17].call(Y))),f(G,"class","pure-g svelte-p3t4wk"),f(ee,"type","checkbox"),f(Z,"class","pure-u-1 pad-v svelte-p3t4wk"),f(Q,"class","pure-g svelte-p3t4wk"),f(ie,"type","checkbox"),f(oe,"class","pure-u-1 pad-v svelte-p3t4wk"),f(se,"class","pure-g svelte-p3t4wk"),f(ue,"class","pure-u-1 pad-v svelte-p3t4wk"),f(he,"class","pure-u-1"),f(he,"type","text"),f(ae,"class","pure-g svelte-p3t4wk"),f(xe,"class","pure-u-1 pad-v svelte-p3t4wk"),f(be,"class","pure-u-1"),f(be,"type","text"),f(fe,"class","pure-g svelte-p3t4wk"),f(Te,"class","pure-u-1 pad-v svelte-p3t4wk"),f(ye,"class","pure-u-1"),f(ye,"type","text"),f(ve,"class","pure-g svelte-p3t4wk"),f(Se,"class","pure-u-1"),f(_e,"class","pure-g pad-v-2 svelte-p3t4wk"),f(O,"class","box mt-0 svelte-p3t4wk"),f(R,"class","pure-u-1 pure-u-md-1-6"),f(v,"class","pure-g svelte-p3t4wk"),f(Ae,"class","pure-u-1 pure-u-md-1-2 pad-v svelte-p3t4wk"),f(Ue,"class","fit-text svelte-p3t4wk"),f(Ue,"href",t[0]),f(Ee,"class","pure-u-1 pure-u-md-1-2"),f(Ce,"class","box svelte-p3t4wk"),f(n,"class","svelte-p3t4wk"),f(Re,"class","svelte-p3t4wk")},m(e,s){l(e,n,s),r(n,i),r(n,w),r(n,v),r(v,T),r(v,k),r(v,y),r(y,$),t[13]($),r(y,S),r(y,L),r(L,A),r(A,I),r(I,E),r(I,U),r(I,B),r(v,H),r(v,R),r(R,O),r(O,P),r(P,j),r(P,D),r(P,V);for(let e=0;e<Fe.length;e+=1)Fe[e].m(V,null);b(V,t[6]),r(O,K),r(O,G),r(G,W),r(G,X),r(G,Y);for(let e=0;e<Me.length;e+=1)Me[e].m(Y,null);b(Y,t[7]),r(O,J),r(O,Q),r(Q,Z),r(Z,ee),ee.checked=t[4],r(Z,te),r(O,ne),r(O,se),r(se,oe),r(oe,ie),ie.checked=t[5],r(oe,re),r(O,le),r(O,ae),r(ae,ue),r(ae,ce),r(ae,he),g(he,t[1].superText),r(ae,pe),r(O,de),r(O,fe),r(fe,xe),r(fe,ge),r(fe,be),g(be,t[1].mainText),r(fe,we),r(O,me),r(O,ve),r(ve,Te),r(ve,ke),r(ve,ye),g(ye,t[1].subText),r(ve,$e),r(O,ze),r(O,_e),r(_e,Se),r(n,Le),r(n,Ce),r(Ce,Ae),r(Ce,Ie),r(Ce,Ee),r(Ee,Ue),r(Ue,Be),l(e,He,s),l(e,Re,s),Oe||(Pe=[d(I,"click",t[14]),d(V,"change",t[15]),d(V,"change",t[16]),d(Y,"change",t[17]),d(ee,"change",t[18]),d(ie,"change",t[19]),d(he,"input",t[20]),d(be,"input",t[21]),d(ye,"input",t[22]),d(Se,"click",(function(){o(t[9].download(`${t[1].superText}${t[1].mainText}${t[1].subText}.png`))&&t[9].download(`${t[1].superText}${t[1].mainText}${t[1].subText}.png`).apply(this,arguments)}))],Oe=!0)},p(e,[n]){if(t=e,256&n&&z!==(z=t[8].size?.width)&&f($,"width",z),256&n&&_!==(_=t[8].size?.height)&&f($,"height",_),8&n&&m($,"light",t[3]),8&n&&je!==(je=t[3]?"Dark":"Light")&&x(U,je),2048&n){let e;for(De=t[11],e=0;e<De.length;e+=1){const s=q(t,De,e);Fe[e]?Fe[e].p(s,n):(Fe[e]=M(s),Fe[e].c(),Fe[e].m(V,null))}for(;e<Fe.length;e+=1)Fe[e].d(1);Fe.length=De.length}if(64&n&&b(V,t[6]),1024&n){let e;for(qe=t[10],e=0;e<qe.length;e+=1){const s=F(t,qe,e);Me[e]?Me[e].p(s,n):(Me[e]=N(s),Me[e].c(),Me[e].m(Y,null))}for(;e<Me.length;e+=1)Me[e].d(1);Me.length=qe.length}128&n&&b(Y,t[7]),16&n&&(ee.checked=t[4]),32&n&&(ie.checked=t[5]),2&n&&he.value!==t[1].superText&&g(he,t[1].superText),2&n&&be.value!==t[1].mainText&&g(be,t[1].mainText),2&n&&ye.value!==t[1].subText&&g(ye,t[1].subText),1&n&&x(Be,t[0]),1&n&&f(Ue,"href",t[0])},i:e,o:e,d(e){e&&a(n),t[13](null),u(Fe,e),u(Me,e),e&&a(He),e&&a(Re),Oe=!1,s(Pe)}}}function K(e,t,n){let s,o="",i=function(){let e=P("super"),t=P("main"),n=P("sub");return e||t||n?{superText:e,mainText:t,subText:n}:{superText:"",mainText:"HOLLOW KNIGHT ",subText:"Title generator"}}(),r=!1,l="true"==P("title")||!0,a="true"==P("bold")||!0,u=[{name:"Perpetua",regular:"perpetua",bold:"perpetuabold"},{name:"Trajan Pro",regular:"trajanPro",bold:"trajanProBold"}],c=0;O((()=>n(6,c=parseInt(P("title"))||0)));let h=1;O((()=>n(7,h=parseInt(P("font"))||1)));let p,d,f=[new D("Base","Assets/banner.png",{enableLight:!1,size:{width:1274,height:521},superText:{size:32,ypos:135},mainText:{size:128,ypos:215},subText:{size:32,ypos:270}}),new D("Hi-res","Assets/bannerhires.png",{enableLight:!1,needsShadow:!0,blur:30,size:{width:3500,height:1280},superText:{size:78.6176,ypos:331.668},mainText:{size:314.4704,ypos:528.212},subText:{size:78.6176,ypos:663.336}}),new D("Hi-res Black","Assets/hollow_knight_title_large_black.png",{color:"black",enableLight:!0,needsShadow:!0,blur:10,size:{width:3252,height:1191},superText:{size:72,ypos:303.75},mainText:{size:288,ypos:483.75},subText:{size:72,ypos:607.5}}),new D("VoidHeart","Assets/Logo_Voidheart.png",{enableLight:!1,needsShadow:!0,blur:10,size:{width:2200,height:663},superText:{size:54.72,ypos:230.85},mainText:{size:218.88,ypos:367.65},subText:{size:54.72,ypos:461.7}}),new D("VoidHeart Black","Assets/Logo_Voidheart_Black.png",{color:"black",enableLight:!0,needsShadow:!0,blur:10,size:{width:2200,height:663},superText:{size:54.72,ypos:230.85},mainText:{size:218.88,ypos:367.65},subText:{size:54.72,ypos:461.7}}),new D("Silksong White","Assets/silksong_logo_white.png",{enableLight:!1,needsShadow:!0,blur:10,size:{width:1606,height:561},superText:{size:56,ypos:183.75},mainText:{size:224,ypos:323.75},subText:{size:56,ypos:420}}),new D("Silksong Black","Assets/silksong_logo_black.png",{color:"black",enableLight:!0,needsShadow:!0,blur:10,size:{width:1606,height:561},superText:{size:56,ypos:183.75},mainText:{size:224,ypos:323.75},subText:{size:56,ypos:420}})];function x(){n(8,p=f[c]),n(3,r=!!p.enableLight)}function g(){return a?u[h].bold:u[h].regular}x(),k((()=>(n(9,d=new j(s)),function(e){let t;return function n(){t=requestAnimationFrame(n),e()}(),()=>{cancelAnimationFrame(t)}}((()=>{if(function(){let e=`${window.location.origin}${window.location.pathname}?title=${c}&blur=${l}&font=${h}&bold=${a}&${i.superText&&`super=${encodeURIComponent(i.superText)}&`}${i.mainText&&`main=${encodeURIComponent(i.mainText)}&`}${i.subText&&`sub=${encodeURIComponent(i.subText)}`}`;o!=e&&(n(0,o=e),window.history.pushState(o,"Title Change",o))}(),!p.isReady())return p.use();d.clear(),p.needsShadow&&l?d.withShadow((()=>{d.addImage(p.banner)}),{blur:p.blur,color:p.color}):d.addImage(p.banner),d.addText(i.superText.toUpperCase(),{...p.superText,font:g(),blur:l?p.blur:0,color:p.color}),d.addText(i.mainText.toUpperCase(),{size:p.mainText.size+(i.superText?0:p.superText.size)+(i.subText?0:p.subText.size),ypos:p.mainText.ypos-(i.superText?0:p.superText.size/2)+(i.subText?0:p.subText.size/2),font:g(),blur:l?p.blur:0,color:p.color}),d.addText(i.subText.toUpperCase(),{...p.subText,font:g(),blur:l?p.blur:0,color:p.color})})))));return[o,i,s,r,l,a,c,h,p,d,u,f,x,function(e){$[e?"unshift":"push"]((()=>{s=e,n(2,s)}))},()=>n(3,r=!r),function(){c=w(this),n(6,c)},()=>x(),function(){h=w(this),n(7,h)},function(){l=this.checked,n(4,l)},function(){a=this.checked,n(5,a)},function(){i.superText=this.value,n(1,i)},function(){i.mainText=this.value,n(1,i)},function(){i.subText=this.value,n(1,i)}]}return new class extends class{$destroy(){!function(e,t){const n=e.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}{constructor(e){super(),R(this,e,K,V,i,{})}}({target:document.body,props:{name:""}})}();
//# sourceMappingURL=bundle.js.map
